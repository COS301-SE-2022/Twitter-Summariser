{
  "version": 3,
  "sources": ["../../../../../node_modules/@middy/core/index.js", "../../../../../node_modules/@middy/util/index.js", "../../../../../node_modules/@middy/http-json-body-parser/index.js", "../../../../../node_modules/event-target-shim/src/event.mjs", "../../../../../node_modules/event-target-shim/src/event-target.mjs", "../../../../../node_modules/abort-controller/src/abort-signal.ts", "../../../../../node_modules/abort-controller/src/abort-controller.ts", "../../../../../node_modules/twitter-v2/node_modules/node-fetch/lib/index.js", "../../../../../node_modules/oauth-1.0a/oauth-1.0a.js", "../../../../../node_modules/twitter-v2/build/TwitterError.js", "../../../../../node_modules/twitter-v2/build/Credentials.js", "../../../../../node_modules/through/index.js", "../../../../../node_modules/split/index.js", "../../../../../node_modules/twitter-v2/build/TwitterStream.js", "../../../../../node_modules/twitter-v2/build/twitter.js", "../../../../../node_modules/dotenv/lib/main.js", "../../../../../src/functions/tweet/handler.ts", "../../../../../src/libs/lambda.ts", "../../../../../src/functions/resources/APIresponse.ts", "../../../../../src/functions/resources/twitterV2.client.ts", "../../../../../src/model/database.ts", "../../../../../src/services/creator.service.ts", "../../../../../src/services/report.service.ts", "../../../../../src/services/reportBlock.service.ts", "../../../../../src/services/resultSet.service.ts", "../../../../../src/services/textStyles.service.ts", "../../../../../src/services/permission.service.ts", "../../../../../src/services/tweet.service.ts", "../../../../../src/services/schedule.service.ts", "../../../../../src/services/index.ts"],
  "sourcesContent": ["\"use strict\";\n\nconst middy = (baseHandler = () => {}, plugin) => {\n  var _plugin$beforePrefetc;\n\n  plugin === null || plugin === void 0 ? void 0 : (_plugin$beforePrefetc = plugin.beforePrefetch) === null || _plugin$beforePrefetc === void 0 ? void 0 : _plugin$beforePrefetc.call(plugin);\n  const beforeMiddlewares = [];\n  const afterMiddlewares = [];\n  const onErrorMiddlewares = [];\n\n  const instance = (event = {}, context = {}) => {\n    var _plugin$requestStart;\n\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$requestStart = plugin.requestStart) === null || _plugin$requestStart === void 0 ? void 0 : _plugin$requestStart.call(plugin);\n    const request = {\n      event,\n      context,\n      response: undefined,\n      error: undefined,\n      internal: {}\n    };\n    return runRequest(request, [...beforeMiddlewares], baseHandler, [...afterMiddlewares], [...onErrorMiddlewares], plugin);\n  };\n\n  instance.use = middlewares => {\n    if (Array.isArray(middlewares)) {\n      for (const middleware of middlewares) {\n        instance.applyMiddleware(middleware);\n      }\n\n      return instance;\n    }\n\n    return instance.applyMiddleware(middlewares);\n  };\n\n  instance.applyMiddleware = middleware => {\n    const {\n      before,\n      after,\n      onError\n    } = middleware;\n\n    if (!before && !after && !onError) {\n      throw new Error('Middleware must be an object containing at least one key among \"before\", \"after\", \"onError\"');\n    }\n\n    if (before) instance.before(before);\n    if (after) instance.after(after);\n    if (onError) instance.onError(onError);\n    return instance;\n  }; // Inline Middlewares\n\n\n  instance.before = beforeMiddleware => {\n    beforeMiddlewares.push(beforeMiddleware);\n    return instance;\n  };\n\n  instance.after = afterMiddleware => {\n    afterMiddlewares.unshift(afterMiddleware);\n    return instance;\n  };\n\n  instance.onError = onErrorMiddleware => {\n    onErrorMiddlewares.push(onErrorMiddleware);\n    return instance;\n  };\n\n  instance.__middlewares = {\n    before: beforeMiddlewares,\n    after: afterMiddlewares,\n    onError: onErrorMiddlewares\n  };\n  return instance;\n};\n\nconst runRequest = async (request, beforeMiddlewares, baseHandler, afterMiddlewares, onErrorMiddlewares, plugin) => {\n  try {\n    await runMiddlewares(request, beforeMiddlewares, plugin); // Check if before stack hasn't exit early\n\n    if (request.response === undefined) {\n      var _plugin$beforeHandler, _plugin$afterHandler;\n\n      plugin === null || plugin === void 0 ? void 0 : (_plugin$beforeHandler = plugin.beforeHandler) === null || _plugin$beforeHandler === void 0 ? void 0 : _plugin$beforeHandler.call(plugin);\n      request.response = await baseHandler(request.event, request.context);\n      plugin === null || plugin === void 0 ? void 0 : (_plugin$afterHandler = plugin.afterHandler) === null || _plugin$afterHandler === void 0 ? void 0 : _plugin$afterHandler.call(plugin);\n      await runMiddlewares(request, afterMiddlewares, plugin);\n    }\n  } catch (e) {\n    // Reset response changes made by after stack before error thrown\n    request.response = undefined;\n    request.error = e;\n\n    try {\n      await runMiddlewares(request, onErrorMiddlewares, plugin);\n    } catch (e) {\n      // Save error that wasn't handled\n      e.originalError = request.error;\n      request.error = e;\n      throw request.error;\n    } // Catch if onError stack hasn't handled the error\n\n\n    if (request.response === undefined) throw request.error;\n  } finally {\n    var _plugin$requestEnd;\n\n    await (plugin === null || plugin === void 0 ? void 0 : (_plugin$requestEnd = plugin.requestEnd) === null || _plugin$requestEnd === void 0 ? void 0 : _plugin$requestEnd.call(plugin, request));\n  }\n\n  return request.response;\n};\n\nconst runMiddlewares = async (request, middlewares, plugin) => {\n  for (const nextMiddleware of middlewares) {\n    var _plugin$beforeMiddlew, _plugin$afterMiddlewa;\n\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$beforeMiddlew = plugin.beforeMiddleware) === null || _plugin$beforeMiddlew === void 0 ? void 0 : _plugin$beforeMiddlew.call(plugin, nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware.name);\n    const res = await (nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware(request));\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$afterMiddlewa = plugin.afterMiddleware) === null || _plugin$afterMiddlewa === void 0 ? void 0 : _plugin$afterMiddlewa.call(plugin, nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware.name); // short circuit chaining and respond early\n\n    if (res !== undefined) {\n      request.response = res;\n      return;\n    }\n  }\n};\n\nmodule.exports = middy;\n", "\"use strict\";\n\nconst {\n  Agent\n} = require('https'); // const { NodeHttpHandler } = require('@aws-sdk/node-http-handler') // aws-sdk v3\n\n\nconst awsClientDefaultOptions = {\n  // AWS SDK v3\n  // Docs: https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/enforcing-tls.html\n\n  /* requestHandler: new NodeHttpHandler({\n    httpsAgent: new Agent(\n      {\n        secureProtocol: 'TLSv1_2_method'\n      }\n    )\n  }) */\n  // Docs: https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/enforcing-tls.html\n  httpOptions: {\n    agent: new Agent({\n      secureProtocol: 'TLSv1_2_method'\n    })\n  }\n};\n\nconst createPrefetchClient = options => {\n  const awsClientOptions = { ...awsClientDefaultOptions,\n    ...options.awsClientOptions\n  };\n  const client = new options.AwsClient(awsClientOptions); // AWS XRay\n\n  if (options.awsClientCapture) {\n    return options.awsClientCapture(client);\n  }\n\n  return client;\n};\n\nconst createClient = async (options, request) => {\n  let awsClientCredentials = {}; // Role Credentials\n\n  if (options.awsClientAssumeRole) {\n    if (!request) throw new Error('Request required when assuming role');\n    awsClientCredentials = await getInternal({\n      credentials: options.awsClientAssumeRole\n    }, request);\n  }\n\n  awsClientCredentials = { ...awsClientCredentials,\n    ...options.awsClientOptions\n  };\n  return createPrefetchClient({ ...options,\n    awsClientOptions: awsClientCredentials\n  });\n};\n\nconst canPrefetch = options => {\n  return !(options !== null && options !== void 0 && options.awsClientAssumeRole) && !(options !== null && options !== void 0 && options.disablePrefetch);\n}; // Internal Context\n\n\nconst getInternal = async (variables, request) => {\n  if (!variables || !request) return {};\n  let keys = [];\n  let values = [];\n\n  if (variables === true) {\n    keys = values = Object.keys(request.internal);\n  } else if (typeof variables === 'string') {\n    keys = values = [variables];\n  } else if (Array.isArray(variables)) {\n    keys = values = variables;\n  } else if (typeof variables === 'object') {\n    keys = Object.keys(variables);\n    values = Object.values(variables);\n  }\n\n  const promises = [];\n\n  for (const internalKey of values) {\n    var _valuePromise;\n\n    // 'internal.key.sub_value' -> { [key]: internal.key.sub_value }\n    const pathOptionKey = internalKey.split('.');\n    const rootOptionKey = pathOptionKey.shift();\n    let valuePromise = request.internal[rootOptionKey];\n\n    if (typeof ((_valuePromise = valuePromise) === null || _valuePromise === void 0 ? void 0 : _valuePromise.then) !== 'function') {\n      valuePromise = Promise.resolve(valuePromise);\n    }\n\n    promises.push(valuePromise.then(value => pathOptionKey.reduce((p, c) => p === null || p === void 0 ? void 0 : p[c], value)));\n  } // ensure promise has resolved by the time it's needed\n  // If one of the promises throws it will bubble up to @middy/core\n\n\n  values = await Promise.allSettled(promises);\n  const errors = values.filter(res => res.status === 'rejected').map(res => res.reason.message);\n  if (errors.length) throw new Error(JSON.stringify(errors));\n  return keys.reduce((obj, key, index) => ({ ...obj,\n    [sanitizeKey(key)]: values[index].value\n  }), {});\n};\n\nconst sanitizeKeyPrefixLeadingNumber = /^([0-9])/;\nconst sanitizeKeyRemoveDisallowedChar = /[^a-zA-Z0-9]+/g;\n\nconst sanitizeKey = key => {\n  return key.replace(sanitizeKeyPrefixLeadingNumber, '_$1').replace(sanitizeKeyRemoveDisallowedChar, '_');\n}; // fetch Cache\n\n\nconst cache = {}; // key: { value:{fetchKey:Promise}, expiry }\n\nconst processCache = (options, fetch = () => undefined, request) => {\n  const {\n    cacheExpiry,\n    cacheKey\n  } = options;\n\n  if (cacheExpiry) {\n    const cached = getCache(cacheKey);\n    const unexpired = cached && (cacheExpiry < 0 || cached.expiry > Date.now());\n\n    if (unexpired && cached.modified) {\n      const value = fetch(request, cached.value);\n      cache[cacheKey] = {\n        value: { ...cached.value,\n          ...value\n        },\n        expiry: cached.expiry\n      };\n      return cache[cacheKey];\n    }\n\n    if (unexpired) {\n      return { ...cached,\n        cache: true\n      };\n    }\n  }\n\n  const value = fetch(request);\n  const expiry = Date.now() + cacheExpiry;\n\n  if (cacheExpiry) {\n    cache[cacheKey] = {\n      value,\n      expiry\n    };\n  }\n\n  return {\n    value,\n    expiry\n  };\n};\n\nconst getCache = key => {\n  return cache[key];\n}; // Used to remove parts of a cache\n\n\nconst modifyCache = (cacheKey, value) => {\n  if (!cache[cacheKey]) return;\n  cache[cacheKey] = { ...cache[cacheKey],\n    value,\n    modified: true\n  };\n};\n\nconst clearCache = (keys = null) => {\n  var _keys;\n\n  keys = (_keys = keys) !== null && _keys !== void 0 ? _keys : Object.keys(cache);\n  if (!Array.isArray(keys)) keys = [keys];\n\n  for (const cacheKey of keys) {\n    cache[cacheKey] = undefined;\n  }\n};\n\nconst jsonSafeParse = (string, reviver) => {\n  if (typeof string !== 'string') return string;\n  const firstChar = string[0];\n  if (firstChar !== '{' && firstChar !== '[' && firstChar !== '\"') return string;\n\n  try {\n    return JSON.parse(string, reviver);\n  } catch (e) {}\n\n  return string;\n};\n\nconst normalizeHttpResponse = response => {\n  var _response$headers, _response;\n\n  // May require updating to catch other types\n  if (response === undefined) {\n    response = {};\n  } else if (Array.isArray(response) || typeof response !== 'object' || response === null) {\n    response = {\n      body: response\n    };\n  }\n\n  response.headers = (_response$headers = (_response = response) === null || _response === void 0 ? void 0 : _response.headers) !== null && _response$headers !== void 0 ? _response$headers : {};\n  return response;\n}; // smaller version of `http-errors`\n\n\nconst statuses = require('./codes.json');\n\nconst {\n  inherits\n} = require('util');\n\nconst createErrorRegexp = /[^a-zA-Z]/g;\n\nconst createError = (code, message, properties = {}) => {\n  const name = statuses[code].replace(createErrorRegexp, '');\n  const className = name.substr(-5) !== 'Error' ? name + 'Error' : name;\n\n  function HttpError(message) {\n    // create the error object\n    const msg = message !== null && message !== void 0 ? message : statuses[code];\n    const err = new Error(msg); // capture a stack trace to the construction point\n\n    Error.captureStackTrace(err, HttpError); // adjust the [[Prototype]]\n\n    Object.setPrototypeOf(err, HttpError.prototype); // redefine the error message\n\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    }); // redefine the error name\n\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    });\n    return err;\n  }\n\n  inherits(HttpError, Error);\n  const desc = Object.getOwnPropertyDescriptor(HttpError, 'name');\n  desc.value = className;\n  Object.defineProperty(HttpError, 'name', desc);\n  Object.assign(HttpError.prototype, {\n    status: code,\n    statusCode: code,\n    expose: code < 500\n  }, properties);\n  return new HttpError(message);\n};\n\nmodule.exports = {\n  createPrefetchClient,\n  createClient,\n  canPrefetch,\n  getInternal,\n  sanitizeKey,\n  processCache,\n  getCache,\n  modifyCache,\n  clearCache,\n  jsonSafeParse,\n  normalizeHttpResponse,\n  createError\n};\n", "\"use strict\";\n\nconst mimePattern = /^application\\/(.+\\+)?json(;.*)?$/;\nconst defaults = {\n  reviver: undefined\n};\n\nconst httpJsonBodyParserMiddleware = (opts = {}) => {\n  const options = { ...defaults,\n    ...opts\n  };\n\n  const httpJsonBodyParserMiddlewareBefore = async request => {\n    var _headers$ContentType;\n\n    const {\n      headers,\n      body\n    } = request.event;\n    const contentTypeHeader = (_headers$ContentType = headers === null || headers === void 0 ? void 0 : headers['Content-Type']) !== null && _headers$ContentType !== void 0 ? _headers$ContentType : headers === null || headers === void 0 ? void 0 : headers['content-type'];\n\n    if (mimePattern.test(contentTypeHeader)) {\n      try {\n        const data = request.event.isBase64Encoded ? Buffer.from(body, 'base64').toString() : body;\n        request.event.rawBody = body;\n        request.event.body = JSON.parse(data, options.reviver);\n      } catch (err) {\n        const {\n          createError\n        } = require('@middy/util'); // UnprocessableEntity\n\n\n        throw createError(422, 'Content type defined as JSON but an invalid JSON was provided');\n      }\n    }\n  };\n\n  return {\n    before: httpJsonBodyParserMiddlewareBefore\n  };\n};\n\nmodule.exports = httpJsonBodyParserMiddleware;\n", "/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap()\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap()\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event)\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    )\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            )\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault()\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    })\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true })\n\n    // Define accessors\n    const keys = Object.keys(event)\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key))\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation()\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        data.immediateStopped = true\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation()\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this))\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this))\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype)\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event)\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto)\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event)\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    })\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key)\n            const isFunc = typeof descriptor.value === \"function\"\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            )\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto)\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto)\n        wrappers.set(proto, wrapper)\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nexport function wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event))\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nexport function isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nexport function setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nexport function setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nexport function setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener\n}\n", "import {\n    isStopped,\n    setCurrentTarget,\n    setEventPhase,\n    setPassiveListener,\n    wrapEvent,\n} from \"./event.mjs\"\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap()\n\n// Listener types\nconst CAPTURE = 1\nconst BUBBLE = 2\nconst ATTRIBUTE = 3\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget)\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this)\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this)\n\n            // Traverse to the tail while removing old value.\n            let prev = null\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next)\n                    } else {\n                        listeners.delete(eventName)\n                    }\n                } else {\n                    prev = node\n                }\n\n                node = node.next\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                }\n                if (prev === null) {\n                    listeners.set(eventName, newNode)\n                } else {\n                    prev.next = newNode\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    )\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this)\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    })\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i])\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map())\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length)\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i]\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this)\n        const optionsIsObj = isObject(options)\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        }\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName)\n        if (node === undefined) {\n            listeners.set(eventName, newNode)\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node\n            node = node.next\n        }\n\n        // Add it.\n        prev.next = newNode\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this)\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n\n        let prev = null\n        let node = listeners.get(eventName)\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n                return\n            }\n\n            prev = node\n            node = node.next\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this)\n        const eventName = event.type\n        let node = listeners.get(eventName)\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event)\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n            } else {\n                prev = node\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            )\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent)\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err)\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent)\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next\n        }\n        setPassiveListener(wrappedEvent, null)\n        setEventPhase(wrappedEvent, 0)\n        setCurrentTarget(wrappedEvent, null)\n\n        return !wrappedEvent.defaultPrevented\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype)\n}\n\nexport { defineEventAttribute, EventTarget }\nexport default EventTarget\n", "import {\n    // Event,\n    EventTarget,\n    // Type,\n    defineEventAttribute,\n} from \"event-target-shim\"\n\n// Known Limitation\n//   Use `any` because the type of `AbortSignal` in `lib.dom.d.ts` is wrong and\n//   to make assignable our `AbortSignal` into that.\n//   https://github.com/Microsoft/TSJS-lib-generator/pull/623\ntype Events = {\n    abort: any // Event & Type<\"abort\">\n}\ntype EventAttributes = {\n    onabort: any // Event & Type<\"abort\">\n}\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nexport default class AbortSignal extends EventTarget<Events, EventAttributes> {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    public constructor() {\n        super()\n        throw new TypeError(\"AbortSignal cannot be constructed directly\")\n    }\n\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    public get aborted(): boolean {\n        const aborted = abortedFlags.get(this)\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(\n                `Expected 'this' to be an 'AbortSignal' object, but got ${\n                    this === null ? \"null\" : typeof this\n                }`,\n            )\n        }\n        return aborted\n    }\n}\ndefineEventAttribute(AbortSignal.prototype, \"abort\")\n\n/**\n * Create an AbortSignal object.\n */\nexport function createAbortSignal(): AbortSignal {\n    const signal = Object.create(AbortSignal.prototype)\n    EventTarget.call(signal)\n    abortedFlags.set(signal, false)\n    return signal\n}\n\n/**\n * Abort a given signal.\n */\nexport function abortSignal(signal: AbortSignal): void {\n    if (abortedFlags.get(signal) !== false) {\n        return\n    }\n\n    abortedFlags.set(signal, true)\n    signal.dispatchEvent<\"abort\">({ type: \"abort\" })\n}\n\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap<AbortSignal, boolean>()\n\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n})\n\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    })\n}\n", "import AbortSignal, { abortSignal, createAbortSignal } from \"./abort-signal\"\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nexport default class AbortController {\n    /**\n     * Initialize this controller.\n     */\n    public constructor() {\n        signals.set(this, createAbortSignal())\n    }\n\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    public get signal(): AbortSignal {\n        return getSignal(this)\n    }\n\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    public abort(): void {\n        abortSignal(getSignal(this))\n    }\n}\n\n/**\n * Associated signals.\n */\nconst signals = new WeakMap<AbortController, AbortSignal>()\n\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller: AbortController): AbortSignal {\n    const signal = signals.get(controller)\n    if (signal == null) {\n        throw new TypeError(\n            `Expected 'this' to be an 'AbortController' object, but got ${\n                controller === null ? \"null\" : typeof controller\n            }`,\n        )\n    }\n    return signal\n}\n\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n})\n\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    })\n}\n\nexport { AbortController, AbortSignal }\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Stream = _interopDefault(require('stream'));\nvar http = _interopDefault(require('http'));\nvar Url = _interopDefault(require('url'));\nvar https = _interopDefault(require('https'));\nvar zlib = _interopDefault(require('zlib'));\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parse_url(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parse_url(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parse_url(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nmodule.exports = exports = fetch;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports;\nexports.Headers = Headers;\nexports.Request = Request;\nexports.Response = Response;\nexports.FetchError = FetchError;\n", "if (typeof(module) !== 'undefined' && typeof(exports) !== 'undefined') {\n    module.exports = OAuth;\n}\n\n/**\n * Constructor\n * @param {Object} opts consumer key and secret\n */\nfunction OAuth(opts) {\n    if(!(this instanceof OAuth)) {\n        return new OAuth(opts);\n    }\n\n    if(!opts) {\n        opts = {};\n    }\n\n    if(!opts.consumer) {\n        throw new Error('consumer option is required');\n    }\n\n    this.consumer            = opts.consumer;\n    this.nonce_length        = opts.nonce_length || 32;\n    this.version             = opts.version || '1.0';\n    this.parameter_seperator = opts.parameter_seperator || ', ';\n    this.realm               = opts.realm;\n\n    if(typeof opts.last_ampersand === 'undefined') {\n        this.last_ampersand = true;\n    } else {\n        this.last_ampersand = opts.last_ampersand;\n    }\n\n    // default signature_method is 'PLAINTEXT'\n    this.signature_method = opts.signature_method || 'PLAINTEXT';\n\n    if(this.signature_method == 'PLAINTEXT' && !opts.hash_function) {\n        opts.hash_function = function(base_string, key) {\n            return key;\n        }\n    }\n\n    if(!opts.hash_function) {\n        throw new Error('hash_function option is required');\n    }\n\n    this.hash_function = opts.hash_function;\n    this.body_hash_function = opts.body_hash_function || this.hash_function;\n}\n\n/**\n * OAuth request authorize\n * @param  {Object} request data\n * {\n *     method,\n *     url,\n *     data\n * }\n * @param  {Object} key and secret token\n * @return {Object} OAuth Authorized data\n */\nOAuth.prototype.authorize = function(request, token) {\n    var oauth_data = {\n        oauth_consumer_key: this.consumer.key,\n        oauth_nonce: this.getNonce(),\n        oauth_signature_method: this.signature_method,\n        oauth_timestamp: this.getTimeStamp(),\n        oauth_version: this.version\n    };\n\n    if(!token) {\n        token = {};\n    }\n\n    if(token.key !== undefined) {\n        oauth_data.oauth_token = token.key;\n    }\n\n    if(!request.data) {\n        request.data = {};\n    }\n\n    if(request.includeBodyHash) {\n      oauth_data.oauth_body_hash = this.getBodyHash(request, token.secret)\n    }\n\n    oauth_data.oauth_signature = this.getSignature(request, token.secret, oauth_data);\n\n    return oauth_data;\n};\n\n/**\n * Create a OAuth Signature\n * @param  {Object} request data\n * @param  {Object} token_secret key and secret token\n * @param  {Object} oauth_data   OAuth data\n * @return {String} Signature\n */\nOAuth.prototype.getSignature = function(request, token_secret, oauth_data) {\n    return this.hash_function(this.getBaseString(request, oauth_data), this.getSigningKey(token_secret));\n};\n\n/**\n * Create a OAuth Body Hash\n * @param {Object} request data\n */\nOAuth.prototype.getBodyHash = function(request, token_secret) {\n  var body = typeof request.data === 'string' ? request.data : JSON.stringify(request.data)\n\n  if (!this.body_hash_function) {\n    throw new Error('body_hash_function option is required');\n  }\n\n  return this.body_hash_function(body, this.getSigningKey(token_secret))\n};\n\n/**\n * Base String = Method + Base Url + ParameterString\n * @param  {Object} request data\n * @param  {Object} OAuth data\n * @return {String} Base String\n */\nOAuth.prototype.getBaseString = function(request, oauth_data) {\n    return request.method.toUpperCase() + '&' + this.percentEncode(this.getBaseUrl(request.url)) + '&' + this.percentEncode(this.getParameterString(request, oauth_data));\n};\n\n/**\n * Get data from url\n * -> merge with oauth data\n * -> percent encode key & value\n * -> sort\n *\n * @param  {Object} request data\n * @param  {Object} OAuth data\n * @return {Object} Parameter string data\n */\nOAuth.prototype.getParameterString = function(request, oauth_data) {\n    var base_string_data;\n    if (oauth_data.oauth_body_hash) {\n        base_string_data = this.sortObject(this.percentEncodeData(this.mergeObject(oauth_data, this.deParamUrl(request.url))));\n    } else {\n        base_string_data = this.sortObject(this.percentEncodeData(this.mergeObject(oauth_data, this.mergeObject(request.data, this.deParamUrl(request.url)))));\n    }\n\n    var data_str = '';\n\n    //base_string_data to string\n    for(var i = 0; i < base_string_data.length; i++) {\n        var key = base_string_data[i].key;\n        var value = base_string_data[i].value;\n        // check if the value is an array\n        // this means that this key has multiple values\n        if (value && Array.isArray(value)){\n          // sort the array first\n          value.sort();\n\n          var valString = \"\";\n          // serialize all values for this key: e.g. formkey=formvalue1&formkey=formvalue2\n          value.forEach((function(item, i){\n            valString += key + '=' + item;\n            if (i < value.length){\n              valString += \"&\";\n            }\n          }).bind(this));\n          data_str += valString;\n        } else {\n          data_str += key + '=' + value + '&';\n        }\n    }\n\n    //remove the last character\n    data_str = data_str.substr(0, data_str.length - 1);\n    return data_str;\n};\n\n/**\n * Create a Signing Key\n * @param  {String} token_secret Secret Token\n * @return {String} Signing Key\n */\nOAuth.prototype.getSigningKey = function(token_secret) {\n    token_secret = token_secret || '';\n\n    if(!this.last_ampersand && !token_secret) {\n        return this.percentEncode(this.consumer.secret);\n    }\n\n    return this.percentEncode(this.consumer.secret) + '&' + this.percentEncode(token_secret);\n};\n\n/**\n * Get base url\n * @param  {String} url\n * @return {String}\n */\nOAuth.prototype.getBaseUrl = function(url) {\n    return url.split('?')[0];\n};\n\n/**\n * Get data from String\n * @param  {String} string\n * @return {Object}\n */\nOAuth.prototype.deParam = function(string) {\n    var arr = string.split('&');\n    var data = {};\n\n    for(var i = 0; i < arr.length; i++) {\n        var item = arr[i].split('=');\n\n        // '' value\n        item[1] = item[1] || '';\n\n        // check if the key already exists\n        // this can occur if the QS part of the url contains duplicate keys like this: ?formkey=formvalue1&formkey=formvalue2\n        if (data[item[0]]){\n          // the key exists already\n          if (!Array.isArray(data[item[0]])) {\n            // replace the value with an array containing the already present value\n            data[item[0]] = [data[item[0]]];\n          }\n          // and add the new found value to it\n          data[item[0]].push(decodeURIComponent(item[1]));\n        } else {\n          // it doesn't exist, just put the found value in the data object\n          data[item[0]] = decodeURIComponent(item[1]);\n        }\n    }\n\n    return data;\n};\n\n/**\n * Get data from url\n * @param  {String} url\n * @return {Object}\n */\nOAuth.prototype.deParamUrl = function(url) {\n    var tmp = url.split('?');\n\n    if (tmp.length === 1)\n        return {};\n\n    return this.deParam(tmp[1]);\n};\n\n/**\n * Percent Encode\n * @param  {String} str\n * @return {String} percent encoded string\n */\nOAuth.prototype.percentEncode = function(str) {\n    return encodeURIComponent(str)\n        .replace(/\\!/g, \"%21\")\n        .replace(/\\*/g, \"%2A\")\n        .replace(/\\'/g, \"%27\")\n        .replace(/\\(/g, \"%28\")\n        .replace(/\\)/g, \"%29\");\n};\n\n/**\n * Percent Encode Object\n * @param  {Object} data\n * @return {Object} percent encoded data\n */\nOAuth.prototype.percentEncodeData = function(data) {\n    var result = {};\n\n    for(var key in data) {\n        var value = data[key];\n        // check if the value is an array\n        if (value && Array.isArray(value)){\n          var newValue = [];\n          // percentEncode every value\n          value.forEach((function(val){\n            newValue.push(this.percentEncode(val));\n          }).bind(this));\n          value = newValue;\n        } else {\n          value = this.percentEncode(value);\n        }\n        result[this.percentEncode(key)] = value;\n    }\n\n    return result;\n};\n\n/**\n * Get OAuth data as Header\n * @param  {Object} oauth_data\n * @return {String} Header data key - value\n */\nOAuth.prototype.toHeader = function(oauth_data) {\n    var sorted = this.sortObject(oauth_data);\n\n    var header_value = 'OAuth ';\n\n    if (this.realm) {\n        header_value += 'realm=\"' + this.realm + '\"' + this.parameter_seperator;\n    }\n\n    for(var i = 0; i < sorted.length; i++) {\n        if (sorted[i].key.indexOf('oauth_') !== 0)\n            continue;\n\n        header_value += this.percentEncode(sorted[i].key) + '=\"' + this.percentEncode(sorted[i].value) + '\"' + this.parameter_seperator;\n    }\n\n    return {\n        Authorization: header_value.substr(0, header_value.length - this.parameter_seperator.length) //cut the last chars\n    };\n};\n\n/**\n * Create a random word characters string with input length\n * @return {String} a random word characters string\n */\nOAuth.prototype.getNonce = function() {\n    var word_characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    var result = '';\n\n    for(var i = 0; i < this.nonce_length; i++) {\n        result += word_characters[parseInt(Math.random() * word_characters.length, 10)];\n    }\n\n    return result;\n};\n\n/**\n * Get Current Unix TimeStamp\n * @return {Int} current unix timestamp\n */\nOAuth.prototype.getTimeStamp = function() {\n    return parseInt(new Date().getTime()/1000, 10);\n};\n\n////////////////////// HELPER FUNCTIONS //////////////////////\n\n/**\n * Merge object\n * @param  {Object} obj1\n * @param  {Object} obj2\n * @return {Object}\n */\nOAuth.prototype.mergeObject = function(obj1, obj2) {\n    obj1 = obj1 || {};\n    obj2 = obj2 || {};\n\n    var merged_obj = obj1;\n    for(var key in obj2) {\n        merged_obj[key] = obj2[key];\n    }\n    return merged_obj;\n};\n\n/**\n * Sort object by key\n * @param  {Object} data\n * @return {Array} sorted array\n */\nOAuth.prototype.sortObject = function(data) {\n    var keys = Object.keys(data);\n    var result = [];\n\n    keys.sort();\n\n    for(var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        result.push({\n            key: key,\n            value: data[key],\n        });\n    }\n\n    return result;\n};\n", "\"use strict\";\nmodule.exports = class TwitterError extends Error {\n    constructor(message, code, details) {\n        super(message);\n        if (code) {\n            Object.defineProperty(this, 'code', {\n                value: code,\n                writable: false,\n                enumerable: true,\n            });\n        }\n        if (details) {\n            Object.defineProperty(this, 'details', {\n                value: details,\n                writable: false,\n                enumerable: true,\n            });\n        }\n    }\n};\nmodule.exports.fromJson = (json) => {\n    if (json.status && json.status != 200) {\n        return new module.exports(json.title, json.status, json.detail);\n    }\n    if (json.type) {\n        return new module.exports(`${json.title}: ${json.detail}`, null, json.type);\n    }\n    return null;\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst oauth_1_0a_1 = __importDefault(require(\"oauth-1.0a\"));\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst node_fetch_1 = __importDefault(require(\"node-fetch\"));\nconst TwitterError_1 = __importDefault(require(\"./TwitterError\"));\nfunction removeNullAndUndefined(obj) {\n    Object.keys(obj).forEach((key) => obj[key] == null && delete obj[key]);\n}\nfunction validate(credentials) {\n    if ('consumer_key' in credentials &&\n        typeof credentials.consumer_key != 'string') {\n        throw new Error('Invalid value for consumer_key. Expected string but got ' +\n            typeof credentials.consumer_key);\n    }\n    if ('consumer_secret' in credentials &&\n        typeof credentials.consumer_secret != 'string') {\n        throw new Error('Invalid value for consumer_secret. Expected string but got ' +\n            typeof credentials.consumer_secret);\n    }\n    if ('bearer_token' in credentials &&\n        typeof credentials.bearer_token != 'string') {\n        throw new Error('Invalid value for bearer_token. Expected string but got ' +\n            typeof credentials.bearer_token);\n    }\n    if ('access_token_key' in credentials &&\n        typeof credentials.access_token_key != 'string') {\n        throw new Error('Invalid value for access_token_key. Expected string but got ' +\n            typeof credentials.access_token_key);\n    }\n    if ('access_token_secret' in credentials &&\n        typeof credentials.access_token_secret != 'string') {\n        throw new Error('Invalid value for access_token_secret. Expected string but got ' +\n            typeof credentials.access_token_secret);\n    }\n    if (!('access_token_key' in credentials) &&\n        !('access_token_secret' in credentials) &&\n        !('consumer_key' in credentials) &&\n        !('consumer_secret' in credentials) &&\n        !('bearer_token' in credentials)) {\n        throw new Error('Invalid argument: no credentials defined');\n    }\n    if (('consumer_key' in credentials && !('consumer_secret' in credentials)) ||\n        (!('consumer_key' in credentials) && 'consumer_secret' in credentials)) {\n        throw new Error('Invalid argument: when using consumer keys, both consumer_key and ' +\n            'consumer_secret must be defined');\n    }\n    if (('access_token_key' in credentials &&\n        !('access_token_secret' in credentials)) ||\n        (!('access_token_key' in credentials) &&\n            'access_token_secret' in credentials)) {\n        throw new Error('Invalid argument: access_token_key and access_token_secret must both ' +\n            'be defined when using user authorization');\n    }\n    if (('access_token_key' in credentials ||\n        'access_token_secret' in credentials) &&\n        (!('consumer_key' in credentials) || !('consumer_secret' in credentials))) {\n        throw new Error('Invalid argument: user authentication requires consumer_key and ' +\n            'consumer_secret to be defined');\n    }\n    if (('access_token_key' in credentials ||\n        'access_token_secret' in credentials) &&\n        'bearer_token' in credentials) {\n        throw new Error('Invalid argument: access_token_key and access_token_secret cannot be ' +\n            'used with bearer_token');\n    }\n}\nasync function createBearerToken({ consumer_key, consumer_secret }) {\n    const response = await node_fetch_1.default('https://api.twitter.com/oauth2/token', {\n        method: 'post',\n        headers: {\n            Authorization: 'Basic ' +\n                Buffer.from(`${consumer_key}:${consumer_secret}`).toString('base64'),\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n        },\n        body: 'grant_type=client_credentials',\n    });\n    const body = await response.json();\n    if (body.errors) {\n        const error = body.errors[0];\n        throw new TwitterError_1.default(`${body.title}: ${error.message}`, body.type, body.detail);\n    }\n    if (body.token_type != 'bearer') {\n        throw new TwitterError_1.default('Unexpected reply from Twitter upon obtaining bearer token', undefined, `Expected \"bearer\" but found ${body.token_type}`);\n    }\n    return body.access_token;\n}\nclass Credentials {\n    constructor(args) {\n        removeNullAndUndefined(args);\n        validate(args);\n        if ('consumer_key' in args) {\n            this._consumer_key = args.consumer_key;\n            this._consumer_secret = args.consumer_secret;\n        }\n        if ('bearer_token' in args) {\n            this._bearer_token = args.bearer_token.startsWith('Bearer ')\n                ? args.bearer_token.substr(7)\n                : args.bearer_token;\n        }\n        if ('access_token_key' in args) {\n            this._access_token_key = args.access_token_key;\n            this._access_token_secret = args.access_token_secret;\n            this._oauth = new oauth_1_0a_1.default({\n                consumer: {\n                    key: args.consumer_key,\n                    secret: args.consumer_secret,\n                },\n                signature_method: 'HMAC-SHA1',\n                hash_function(base_string, key) {\n                    return crypto_1.default\n                        .createHmac('sha1', key)\n                        .update(base_string)\n                        .digest('base64');\n                },\n            });\n        }\n    }\n    get consumer_key() {\n        return this._consumer_key;\n    }\n    get consumer_secret() {\n        return this._consumer_secret;\n    }\n    get bearer_token() {\n        return this._bearer_token;\n    }\n    get access_token_key() {\n        return this._access_token_key;\n    }\n    get access_token_secret() {\n        return this._access_token_secret;\n    }\n    appAuth() {\n        return !this.access_token_key && !this.access_token_secret;\n    }\n    userAuth() {\n        return !this.appAuth();\n    }\n    async createBearerToken() {\n        if (this.userAuth()) {\n            throw new Error('Refusing to create a bearer token when using user authentication');\n        }\n        if (this.bearer_token) {\n            return;\n        }\n        if (this._bearer_token_promise) {\n            return this._bearer_token_promise;\n        }\n        this._bearer_token_promise = createBearerToken({\n            consumer_key: this.consumer_key,\n            consumer_secret: this.consumer_secret,\n        })\n            .then((token) => {\n            this._bearer_token = token;\n        })\n            .finally(() => {\n            this._bearer_token_promise = undefined;\n        });\n        return this._bearer_token_promise;\n    }\n    async authorizationHeader(url, request) {\n        if (this.appAuth()) {\n            await this.createBearerToken();\n            return `Bearer ${this.bearer_token}`;\n        }\n        if (!this._oauth) {\n            throw 'OAuth should be defined for user authentication';\n        }\n        else if (!this.access_token_key || !this.access_token_secret) {\n            throw 'Access token should be defined for user authentication';\n        }\n        return this._oauth.toHeader(this._oauth.authorize({\n            url: url.toString(),\n            method: request.method,\n            data: request.body,\n        }, {\n            key: this.access_token_key,\n            secret: this.access_token_secret,\n        })).Authorization;\n    }\n}\nexports.default = Credentials;\n", "var Stream = require('stream')\n\n// through\n//\n// a stream that does nothing but re-emit the input.\n// useful for aggregating a series of changing but not ending streams into one stream)\n\nexports = module.exports = through\nthrough.through = through\n\n//create a readable writable stream.\n\nfunction through (write, end, opts) {\n  write = write || function (data) { this.queue(data) }\n  end = end || function () { this.queue(null) }\n\n  var ended = false, destroyed = false, buffer = [], _ended = false\n  var stream = new Stream()\n  stream.readable = stream.writable = true\n  stream.paused = false\n\n//  stream.autoPause   = !(opts && opts.autoPause   === false)\n  stream.autoDestroy = !(opts && opts.autoDestroy === false)\n\n  stream.write = function (data) {\n    write.call(this, data)\n    return !stream.paused\n  }\n\n  function drain() {\n    while(buffer.length && !stream.paused) {\n      var data = buffer.shift()\n      if(null === data)\n        return stream.emit('end')\n      else\n        stream.emit('data', data)\n    }\n  }\n\n  stream.queue = stream.push = function (data) {\n//    console.error(ended)\n    if(_ended) return stream\n    if(data === null) _ended = true\n    buffer.push(data)\n    drain()\n    return stream\n  }\n\n  //this will be registered as the first 'end' listener\n  //must call destroy next tick, to make sure we're after any\n  //stream piped from here.\n  //this is only a problem if end is not emitted synchronously.\n  //a nicer way to do this is to make sure this is the last listener for 'end'\n\n  stream.on('end', function () {\n    stream.readable = false\n    if(!stream.writable && stream.autoDestroy)\n      process.nextTick(function () {\n        stream.destroy()\n      })\n  })\n\n  function _end () {\n    stream.writable = false\n    end.call(stream)\n    if(!stream.readable && stream.autoDestroy)\n      stream.destroy()\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    ended = true\n    if(arguments.length) stream.write(data)\n    _end() // will emit or queue\n    return stream\n  }\n\n  stream.destroy = function () {\n    if(destroyed) return\n    destroyed = true\n    ended = true\n    buffer.length = 0\n    stream.writable = stream.readable = false\n    stream.emit('close')\n    return stream\n  }\n\n  stream.pause = function () {\n    if(stream.paused) return\n    stream.paused = true\n    return stream\n  }\n\n  stream.resume = function () {\n    if(stream.paused) {\n      stream.paused = false\n      stream.emit('resume')\n    }\n    drain()\n    //may have become paused again,\n    //as drain emits 'data'.\n    if(!stream.paused)\n      stream.emit('drain')\n    return stream\n  }\n  return stream\n}\n\n", "//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar through = require('through')\nvar Decoder = require('string_decoder').StringDecoder\n\nmodule.exports = split\n\n//TODO pass in a function to map across the lines.\n\nfunction split (matcher, mapper, options) {\n  var decoder = new Decoder()\n  var soFar = ''\n  var maxLength = options && options.maxLength;\n  var trailing = options && options.trailing === false ? false : true\n  if('function' === typeof matcher)\n    mapper = matcher, matcher = null\n  if (!matcher)\n    matcher = /\\r?\\n/\n\n  function emit(stream, piece) {\n    if(mapper) {\n      try {\n        piece = mapper(piece)\n      }\n      catch (err) {\n        return stream.emit('error', err)\n      }\n      if('undefined' !== typeof piece)\n        stream.queue(piece)\n    }\n    else\n      stream.queue(piece)\n  }\n\n  function next (stream, buffer) {\n    var pieces = ((soFar != null ? soFar : '') + buffer).split(matcher)\n    soFar = pieces.pop()\n\n    if (maxLength && soFar.length > maxLength)\n      return stream.emit('error', new Error('maximum buffer reached'))\n\n    for (var i = 0; i < pieces.length; i++) {\n      var piece = pieces[i]\n      emit(stream, piece)\n    }\n  }\n\n  return through(function (b) {\n    next(this, decoder.write(b))\n  },\n  function () {\n    if(decoder.end)\n      next(this, decoder.end())\n    if(trailing && soFar != null)\n      emit(this, soFar)\n    this.queue(null)\n  })\n}\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst split_1 = __importDefault(require(\"split\"));\nconst TwitterError_1 = __importDefault(require(\"./TwitterError\"));\nvar State;\n(function (State) {\n    State[State[\"NOT_STARTED\"] = 0] = \"NOT_STARTED\";\n    State[State[\"STARTED\"] = 1] = \"STARTED\";\n    State[State[\"CLOSED\"] = 2] = \"CLOSED\";\n})(State || (State = {}));\nclass DeferredPromise {\n    constructor() {\n        this.resolve = () => { };\n        this.reject = () => { };\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\nclass TwitterStream {\n    constructor(connect, close, options) {\n        const { timeout = 30 } = options;\n        this._connect = connect;\n        this._close = close;\n        this._state = State.NOT_STARTED;\n        this._events = [new DeferredPromise()];\n        this._wait = timeout * 1000;\n    }\n    _emit(promise) {\n        this._events[this._events.length - 1].resolve(promise);\n        this._events.push(new DeferredPromise());\n    }\n    _refreshTimeout() {\n        if (this._state !== State.CLOSED) {\n            if (this._timeout) {\n                clearTimeout(this._timeout);\n            }\n            this._timeout = setTimeout(() => {\n                this._closeWithError(new TwitterError_1.default('Stream unresponsive'));\n            }, this._wait);\n        }\n    }\n    _closeWithError(error) {\n        if (this._state !== State.CLOSED) {\n            this._state = State.CLOSED;\n            if (this._timeout) {\n                clearTimeout(this._timeout);\n            }\n            this._emit(Promise.reject(error));\n            this._close();\n        }\n    }\n    [Symbol.asyncIterator]() {\n        if (this._state == State.CLOSED) {\n            throw new Error('Stream has already been closed.');\n        }\n        return {\n            next: async () => {\n                if (this._state == State.NOT_STARTED) {\n                    this._state = State.STARTED;\n                    const response = await this._connect();\n                    const stream = response.body.pipe(split_1.default());\n                    this._refreshTimeout();\n                    stream.on('data', (line) => {\n                        this._refreshTimeout();\n                        if (!line.trim()) {\n                            return;\n                        }\n                        if (line == 'Rate limit exceeded') {\n                            this._closeWithError(new TwitterError_1.default('Rate limit exceeded'));\n                            return;\n                        }\n                        const json = JSON.parse(line);\n                        const error = TwitterError_1.default.fromJson(json);\n                        if (error) {\n                            this._closeWithError(error);\n                            return;\n                        }\n                        this._emit(Promise.resolve({ done: false, value: json }));\n                    });\n                    stream.on('error', (error) => {\n                        this._closeWithError(error);\n                    });\n                    stream.on('end', (error) => {\n                        this.close();\n                    });\n                }\n                const event = this._events[0];\n                return event.promise.finally(() => {\n                    if (event === this._events[0]) {\n                        this._events.shift();\n                    }\n                });\n            },\n        };\n    }\n    close() {\n        if (this._state !== State.CLOSED) {\n            this._state = State.CLOSED;\n            if (this._timeout) {\n                clearTimeout(this._timeout);\n            }\n            this._emit(Promise.resolve({ done: true }));\n            this._close();\n        }\n    }\n}\nexports.default = TwitterStream;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abort_controller_1 = __importDefault(require(\"abort-controller\"));\nconst node_fetch_1 = __importDefault(require(\"node-fetch\"));\nconst url_1 = require(\"url\");\nconst Credentials_1 = __importDefault(require(\"./Credentials\"));\nconst TwitterError_js_1 = __importDefault(require(\"./TwitterError.js\"));\nconst TwitterStream_1 = __importDefault(require(\"./TwitterStream\"));\nfunction applyParameters(url, parameters, prefix) {\n    prefix = prefix || '';\n    if (!parameters) {\n        return;\n    }\n    for (const [key, value] of Object.entries(parameters)) {\n        if (typeof value == 'object' && value instanceof Array) {\n            url.searchParams.set(prefix + key, value.join(','));\n        }\n        else if (typeof value == 'object') {\n            applyParameters(url, value, `${prefix}${key}.`);\n        }\n        else {\n            url.searchParams.set(prefix + key, value);\n        }\n    }\n}\nclass Twitter {\n    constructor(args) {\n        this.credentials = new Credentials_1.default(args);\n    }\n    async get(endpoint, parameters) {\n        const url = new url_1.URL(`https://api.twitter.com/2/${endpoint}`);\n        applyParameters(url, parameters);\n        const json = await node_fetch_1.default(url.toString(), {\n            headers: {\n                Authorization: await this.credentials.authorizationHeader(url, {\n                    method: 'GET',\n                }),\n            },\n        }).then((response) => response.json());\n        const error = TwitterError_js_1.default.fromJson(json);\n        if (error) {\n            throw error;\n        }\n        return json;\n    }\n    async post(endpoint, body, parameters) {\n        const url = new url_1.URL(`https://api.twitter.com/2/${endpoint}`);\n        applyParameters(url, parameters);\n        const json = await node_fetch_1.default(url.toString(), {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: await this.credentials.authorizationHeader(url, {\n                    method: 'POST',\n                    body: body,\n                }),\n            },\n            body: JSON.stringify(body || {}),\n        }).then((response) => response.json());\n        const error = TwitterError_js_1.default.fromJson(json);\n        if (error) {\n            throw error;\n        }\n        return json;\n    }\n    async delete(endpoint, parameters) {\n        const url = new url_1.URL(`https://api.twitter.com/2/${endpoint}`);\n        applyParameters(url, parameters);\n        const json = await node_fetch_1.default(url.toString(), {\n            method: 'delete',\n            headers: {\n                Authorization: await this.credentials.authorizationHeader(url, {\n                    method: 'DELETE',\n                }),\n            },\n        }).then((response) => response.json());\n        const error = TwitterError_js_1.default.fromJson(json);\n        if (error) {\n            throw error;\n        }\n        return json;\n    }\n    stream(endpoint, parameters, options) {\n        const abortController = new abort_controller_1.default();\n        return new TwitterStream_1.default(async () => {\n            const url = new url_1.URL(`https://api.twitter.com/2/${endpoint}`);\n            applyParameters(url, parameters);\n            return node_fetch_1.default(url.toString(), {\n                signal: abortController.signal,\n                headers: {\n                    Authorization: await this.credentials.authorizationHeader(url, {\n                        method: 'GET',\n                    }),\n                },\n            });\n        }, () => {\n            abortController.abort();\n        }, options || {});\n    }\n}\nexports.default = Twitter;\nmodule.exports = Twitter;\n", "const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n", "import { APIGatewayProxyEvent, APIGatewayProxyResult } from \"aws-lambda\";\r\nimport { middyfy } from \"@libs/lambda\";\r\nimport { randomUUID } from \"crypto\";\r\nimport { header, statusCodes } from \"@functions/resources/APIresponse\";\r\nimport { clientV2 } from \"../resources/twitterV2.client\";\r\nimport ServicesLayer from \"../../services\";\r\n\r\nexport const searchTweets = middyfy(\r\n\tasync (event: APIGatewayProxyEvent): Promise<APIGatewayProxyResult> => {\r\n\t\ttry {\r\n\t\t\tconst params = JSON.parse(event.body);\r\n\r\n\t\t\tlet filter: string;\r\n\t\t\tif (params.filterBy === \"noneReply\") {\r\n\t\t\t\tfilter = \" -is:reply\";\r\n\t\t\t} else if (params.filterBy === \"verifiedTweets\") {\r\n\t\t\t\tfilter = \" is:verified\";\r\n\t\t\t} else {\r\n\t\t\t\tfilter = \"\";\r\n\t\t\t}\r\n\r\n\t\t\tconst { meta, data, includes } = await clientV2.get(\"tweets/search/recent\", {\r\n\t\t\t\tquery: `${params.keyword + filter} -is:retweet lang:en`,\r\n\t\t\t\tmax_results: \"100\",\r\n\t\t\t\ttweet: {\r\n\t\t\t\t\tfields: [\"public_metrics\", \"author_id\", \"created_at\"]\r\n\t\t\t\t},\r\n\t\t\t\texpansions: \"author_id\",\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tfields: [\"id\", \"username\", \"name\"]\r\n\t\t\t\t},\r\n\t\t\t\tsort_order: \"relevancy\"\r\n\t\t\t});\r\n\r\n\t\t\tconst dd = new Date();\r\n\t\t\tconst d = new Date(`${dd.toLocaleString()}-02:00`);\r\n\r\n\t\t\tlet id: string;\r\n\t\t\tid = \"RS-\";\r\n\t\t\tid += randomUUID();\r\n\r\n\t\t\tconst tweetlist = await ServicesLayer.tweetService.addTweets(\r\n\t\t\t\tdata,\r\n\t\t\t\tincludes,\r\n\t\t\t\tmeta.result_count\r\n\t\t\t);\r\n\r\n\t\t\tconst sortedList = await ServicesLayer.tweetService.sortTweets(\r\n\t\t\t\ttweetlist,\r\n\t\t\t\tparams.sortBy\r\n\t\t\t);\r\n\t\t\tconst result = sortedList.slice(0, params.numOfTweets);\r\n\t\t\tconst tweetIDs = await ServicesLayer.tweetService.createArray(result);\r\n\r\n\t\t\tServicesLayer.resultSetServices.addResultSet({\r\n\t\t\t\tid,\r\n\t\t\t\tapiKey: params.apiKey,\r\n\t\t\t\tdateCreated: d.toString(),\r\n\t\t\t\tsearchPhrase: params.keyword,\r\n\t\t\t\tsortOption: params.sortBy,\r\n\t\t\t\tfilterOption: params.filterBy,\r\n\t\t\t\ttweets: tweetIDs\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.Successful,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify({ resultSetID: id, tweets: result })\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.internalError,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify(e)\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n);\r\n\r\n// Adding a custom tweet\r\nexport const addCustomTweet = middyfy(\r\n\tasync (event: APIGatewayProxyEvent): Promise<APIGatewayProxyResult> => {\r\n\t\ttry {\r\n\t\t\tconst params = JSON.parse(event.body);\r\n\t\t\tconst lastS = params.url.lastIndexOf(\"/\") + 1;\r\n\t\t\tconst id = params.url.substring(lastS);\r\n\r\n\t\t\tconst tweets = await ServicesLayer.reportService.getReport(params.reportID);\r\n\r\n\t\t\tconst position = tweets.numOfBlocks + 1;\r\n\r\n\t\t\tawait ServicesLayer.reportBlockService.addReportBlock({\r\n\t\t\t\tblockType: \"TWEET\",\r\n\t\t\t\tposition,\r\n\t\t\t\treportBlockID: `BK-${randomUUID()}`,\r\n\t\t\t\treportID: params.reportID,\r\n\t\t\t\ttweetID: id\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.Successful,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify(id)\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.internalError,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify(e)\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n);\r\n\r\n// reordering tweets\r\nexport const reorderTweets = middyfy(\r\n\tasync (event: APIGatewayProxyEvent): Promise<APIGatewayProxyResult> => {\r\n\t\ttry {\r\n\t\t\tconst params = JSON.parse(event.body);\r\n\t\t\tif (\r\n\t\t\t\t!(await ServicesLayer.permissionService.verifyEditor(\r\n\t\t\t\t\tparams.reportID,\r\n\t\t\t\t\tparams.apiKey\r\n\t\t\t\t)) &&\r\n\t\t\t\t!(await ServicesLayer.reportService.verifyOwner(params.reportID, params.apiKey))\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tstatusCode: statusCodes.unauthorized,\r\n\t\t\t\t\theaders: header,\r\n\t\t\t\t\tbody: JSON.stringify(\"Don't have enough permissions to edit this report.\")\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t/*const tweet1 = await ServicesLayer.reportBlockService.getReportBlock(\r\n\t\t\t\tparams.reportBlockID1\r\n\t\t\t);\r\n\r\n\t\t\tconst tweet2 = await ServicesLayer.reportBlockService.getReportBlock(\r\n\t\t\t\tparams.reportBlockID2\r\n\t\t\t);\r\n\r\n\t\t\tawait ServicesLayer.reportBlockService.updatePosition(\r\n\t\t\t\ttweet1.reportBlockID,\r\n\t\t\t\ttweet2.position\r\n\t\t\t);\r\n\r\n\t\t\tawait ServicesLayer.reportBlockService.updatePosition(\r\n\t\t\t\ttweet2.reportBlockID,\r\n\t\t\t\ttweet1.position\r\n\t\t\t);*/\r\n\r\n\t\t\t// Retrieving Blocks\r\n\t\t\tlet blocks = await ServicesLayer.reportBlockService.getReportBlocks(params.reportID);\r\n\t\t\tblocks = await ServicesLayer.reportBlockService.sortReportBlocks(blocks);\r\n\r\n\t\t\t// If I don't get the position:\r\n\t\t\tconst tweet1 = blocks.find((tweet) => {\r\n\t\t\t\treturn tweet.position === params.pos;\r\n\t\t\t});\r\n\r\n\t\t\tlet pos2: number;\r\n\r\n\t\t\tif (params.newPlace === \"UP\") {\r\n\t\t\t\tpos2 = params.pos - 2;\r\n\t\t\t} else {\r\n\t\t\t\tpos2 = params.pos + 2;\r\n\t\t\t}\r\n\r\n\t\t\tconst tweet2 = blocks.find((tweet) => {\r\n\t\t\t\treturn tweet.position === pos2;\r\n\t\t\t});\r\n\r\n\t\t\tawait ServicesLayer.reportBlockService.updatePosition(\r\n\t\t\t\ttweet1.reportBlockID,\r\n\t\t\t\ttweet2.position\r\n\t\t\t);\r\n\r\n\t\t\tawait ServicesLayer.reportBlockService.updatePosition(\r\n\t\t\t\ttweet2.reportBlockID,\r\n\t\t\t\ttweet1.position\r\n\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.Successful,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify(\"Operation Successful\")\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: statusCodes.internalError,\r\n\t\t\t\theaders: header,\r\n\t\t\t\tbody: JSON.stringify(e)\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n);\r\n", "import middy from \"@middy/core\";\r\nimport middyJsonBodyParser from \"@middy/http-json-body-parser\";\r\n\r\nexport const middyfy = (handler) => middy(handler).use(middyJsonBodyParser());\r\n", "export const URL = process.env.NODE_ENV === \"development\" ? \"http://localhost:3000\" : \"https://dcfwz5n420bzu.cloudfront.net\";\r\n\r\nexport const header = {\r\n\t\"Content-Type\": \"application/json\",\r\n\t\"Access-Control-Allow-Methods\": \"*\",\r\n\t\"Access-Control-Allow-Origin\": URL,\r\n\t\"Access-Control-Allow-Headers\": \"*\",\r\n\t\"Access-Control-Allow-Credentials\": true\r\n};\r\n\r\nexport const statusCodes = {\r\n\t// Sucess:\r\n\tSuccessful: 200,\r\n\tcreated: 201,\r\n\taccepted: 202,\r\n\tno_content: 204,\r\n\r\n\t// client errors:\r\n\tbadRequest: 400,\r\n\tunauthorized: 401,\r\n\tforbidden: 403,\r\n\tnotfound: 404,\r\n\ttimeOut: 408,\r\n\tgone: 410,\r\n\tnotAcceptiable: 406,\r\n\r\n\t// Server errors:\r\n\tinternalError: 500,\r\n\tnotImplemented: 501,\r\n\tbadGateway: 502\r\n};\r\n\r\nexport const AWSDetails = {\r\n\tregion: \"\",\r\n\taccount_id: \"\"\r\n};\r\n", "import Twitter from \"twitter-v2\";\r\nimport * as dotenv from \"dotenv\";\r\n\r\ndotenv.config();\r\n\r\nexport const clientV2 = new Twitter({\r\n\t// consumer_key: process.env.TWITTER_CONSUMER_KEY,\r\n\t// consumer_secret: process.env.TWITTER_CONSUMER_SECRET,\r\n\tbearer_token: process.env.BEARER_TOKEN\r\n\t// access_token_key: process.env.TWITTER_ACCESS_TOKEN_KEY,\r\n\t// access_token_secret: process.env.TWITTER_ACCESS_TOKEN_SECRET,\r\n});\r\n", "import * as AWS from \"aws-sdk\";\r\nimport { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\n\r\nconst dynamoDBClient = (): DocumentClient => {\r\n\tif (process.env.IS_OFFLINE) {\r\n\t\treturn new AWS.DynamoDB.DocumentClient({\r\n\t\t\tregion: \"local\",\r\n\t\t\tendpoint: \"http://localhost:8000\",\r\n\t\t\taccessKeyId: \"DEFAULT_ACCESS_KEY\",\r\n\t\t\tsecretAccessKey: \"DEFAULT_SECRET_KEY\"\r\n\t\t});\r\n\t}\r\n\treturn new AWS.DynamoDB.DocumentClient();\r\n};\r\n\r\nexport default dynamoDBClient;\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport Creator from \"@model/creator/creator.model\";\r\n\r\nexport default class CreatorService {\r\n\tprivate TableName = \"CreatorTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) {}\r\n\r\n\tasync getAllCreators(): Promise<Creator[]> {\r\n\t\tconst creator = await this.docClient\r\n\t\t\t.scan({\r\n\t\t\t\tTableName: this.TableName\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t\treturn creator.Items as Creator[];\r\n\t}\r\n\r\n\tasync addCreator(creator: Creator): Promise<Creator> {\r\n\t\tif (!creator) {\r\n\t\t\tthrow new Error(\"no new creator provided\");\r\n\t\t}\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: creator,\r\n\t\t\t\tConditionExpression: \"email <> :email\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":email\": creator.email\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t\treturn creator as Creator;\r\n\t}\r\n\r\n\tasync getCreator(email: string): Promise<Creator> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\temail\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Item as Creator;\r\n\t}\r\n\r\n\tasync getCreatorByKey(key: string): Promise<Creator> {\r\n\t\tconst creator = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"gsiIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :key\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":key\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn creator.Items[0] as Creator;\r\n\t}\r\n\r\n\tasync updateCreator(email: string, token: string): Promise<boolean> {\r\n\t\treturn this.docClient\r\n\t\t\t.update({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\temail\r\n\t\t\t\t},\r\n\t\t\t\tUpdateExpression: \"set #RefreshAccessToken = :RefreshAccessToken\",\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#RefreshAccessToken\": \"RefreshAccessToken\"\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":RefreshAccessToken\": token\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise()\r\n\t\t\t.then(() => true)\r\n\t\t\t.catch((err) => err);\r\n\t}\r\n\r\n\tasync deleteCreator(email: string) {\r\n\t\tawait this.docClient.delete({\r\n\t\t\tTableName: this.TableName,\r\n\t\t\tKey: {\r\n\t\t\t\temail: email\r\n\t\t\t}\r\n\t\t}).promise();\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport Report from \"@model/report/report.model\";\r\nimport Permission from \"@model/permission/permissions.model\";\r\n\r\nimport ServicesLayer from \".\";\r\n\r\nexport default class ReportService {\r\n\t// add function to get all published reports\r\n\r\n\tprivate TableName = \"ReportTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) {}\r\n\r\n\t// get specific reports\r\n\tasync getReport(id: string): Promise<any> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { reportID: id }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\tif (result === undefined) throw new Error(`report with id: ${id} does not exist`);\r\n\r\n\t\tconst item = result.Item;\r\n\r\n\t\tconst report = [];\r\n\r\n\t\tconst reportBlocks = await ServicesLayer.reportBlockService.getReportBlocks(item.reportID);\r\n\r\n\t\tconst promises = reportBlocks.map(async (block) => {\r\n\t\t\tconst type = block.blockType;\r\n\t\t\tconst ob = {} as any;\r\n\r\n\t\t\tob.blockType = type;\r\n\t\t\tob.position = block.position;\r\n\t\t\tob.reportBlockID = block.reportBlockID;\r\n\r\n\t\t\tif (type === \"TWEET\") {\r\n\t\t\t\tob.block = {\r\n\t\t\t\t\ttweetID: block.tweetID\r\n\t\t\t\t};\r\n\t\t\t} else if (type === \"RICHTEXT\") {\r\n\t\t\t\tconst style = await ServicesLayer.textStyleService.getStyle(block.reportBlockID);\r\n\t\t\t\tob.block = {\r\n\t\t\t\t\ttext: block.richText,\r\n\t\t\t\t\tposition: block.position,\r\n\t\t\t\t\tstyle\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treport.push(ob);\r\n\t\t});\r\n\r\n\t\tawait Promise.all(promises);\r\n\t\tawait ServicesLayer.reportBlockService.sortReportBlocks(report);\r\n\t\tconst rp = [];\r\n\t\tlet bl = false;\r\n\t\tlet count = 0;\r\n\t\tlet max;\r\n\r\n\t\tfor (let y = 0; y < report.length; y++) {\r\n\t\t\tmax = report[y].position;\r\n\t\t}\r\n\r\n\t\tlet y = 0;\r\n\t\tfor (let x = 0; x < max + 2; x++) {\r\n\t\t\tif (report[y] !== undefined) {\r\n\t\t\t\tif (report[y].position === x) {\r\n\t\t\t\t\trp.push(report[y]);\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\ty++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!bl) {\r\n\t\t\t\trp.push({ blockType: \"RICHTEXT\", position: x, block: null });\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tbl = false;\r\n\t\t}\r\n\r\n\t\titem.Report = rp;\r\n\t\titem.numOfBlocks = count;\r\n\r\n\t\treturn result.Item;\r\n\t}\r\n\r\n\t// get my report helper for backend\r\n\tasync getReportHelper(id: string): Promise<Report> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { reportID: id }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\t// const tweets = await ServicesLayer.tweetService.getTweets(resultSetID);\r\n\t\treturn result.Item as Report;\r\n\t}\r\n\r\n\t// get my reports\r\n\tasync getReports(key: string): Promise<Report[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"reportIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\tif (result === undefined) throw new Error(`no reports found`);\r\n\r\n\t\t// const tweets = await ServicesLayer.tweetService.getTweets(resultSetID);\r\n\t\treturn result.Items as Report[];\r\n\t}\r\n\r\n\tasync getDraftReports(key: string): Promise<Report[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"reportIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\t\t\t\tFilterExpression: \"#status = :status\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key,\r\n\t\t\t\t\t\":status\": \"DRAFT\"\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#status\": \"status\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as Report[];\r\n\t}\r\n\r\n\tasync getPublishedReports(key: string): Promise<Report[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"reportIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\t\t\t\tFilterExpression: \"#status = :status\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key,\r\n\t\t\t\t\t\":status\": \"PUBLISHED\"\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#status\": \"status\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as Report[];\r\n\t}\r\n\r\n\tasync getAllPublishedReports(): Promise<Report[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"statusIndex\",\r\n\t\t\t\tKeyConditionExpression: \"#status = :status\",\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#status\": \"status\"\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":status\": \"PUBLISHED\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as Report[];\r\n\t}\r\n\r\n\tasync getSharedReports(key: string): Promise<Report[]> {\r\n\t\tconst permissions: Permission[] = await ServicesLayer.permissionService.getPermissions(key);\r\n\r\n\t\tconst results: Report[] = [];\r\n\r\n\t\tconst promises = permissions.map(async (permission) => {\r\n\t\t\tconst id = permission.reportID;\r\n\r\n\t\t\tconst report = await this.getReportHelper(id);\r\n\r\n\t\t\tresults.push(report);\r\n\t\t});\r\n\r\n\t\tawait Promise.all(promises);\r\n\r\n\t\treturn results as Report[];\r\n\t}\r\n\r\n\t// store reports\r\n\tasync addReport(report: Report): Promise<Report> {\r\n\t\t// console.log(report);\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: report\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn report as Report;\r\n\t}\r\n\r\n\t// update Report\r\n\tasync updateReportStatus(status: string, reportID: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.update({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\treportID: reportID\r\n\t\t\t\t},\r\n\t\t\t\tUpdateExpression: \"SET #status = :status\",\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#status\": \"status\"\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":status\": status\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n\r\n\tasync updateReportTitle(title: string, reportID: string) {\r\n\t\tawait this.docClient.update({\r\n\t\t\tTableName: this.TableName,\r\n\t\t\tKey: {\r\n\t\t\t\treportID\r\n\t\t\t},\r\n\t\t\tUpdateExpression: \"SET #title = :title\",\r\n\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\"#title\": \"title\"\r\n\t\t\t},\r\n\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\":title\": title\r\n\t\t\t}\r\n\t\t}).promise();\r\n\t}\r\n\r\n\tasync deleteReport(id: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\treportID: id\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n\r\n\t// verify owner of report\r\n\tasync verifyOwner(reportID: string, apiKey: string): Promise<boolean> {\r\n\t\tconst per = await this.getReport(reportID);\r\n\r\n\t\treturn per.apiKey === apiKey;\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport ReportBlock from \"@model/reportBlock/reportBlock.model\";\r\n\r\nexport default class ReportBlockService {\r\n\tprivate TableName = \"ReportBlockTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) {}\r\n\r\n\tasync getReportBlock(reportBlockID: string): Promise<ReportBlock> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { id: reportBlockID }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Item as ReportBlock;\r\n\t}\r\n\r\n\tasync getReportBlocks(key: string): Promise<ReportBlock[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"reportBlockIndex\",\r\n\t\t\t\tKeyConditionExpression: \"reportID = :reportID\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":reportID\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\t// console.log(result.Items);\r\n\t\tif (result === undefined) return [] as ReportBlock[];\r\n\r\n\t\t// let blocks: ReportBlock[];\r\n\t\tconst blocks = result.Items as ReportBlock[];\r\n\t\tthis.sortReportBlocks(blocks);\r\n\r\n\t\t// console.log(blocks);\r\n\t\treturn blocks as ReportBlock[];\r\n\t}\r\n\r\n\tasync addReportBlock(reportBlock: ReportBlock): Promise<ReportBlock> {\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: reportBlock\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn reportBlock as ReportBlock;\r\n\t}\r\n\r\n\tasync deleteReportBlock(id: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { reportBlockID: id }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n\r\n\tasync updatePosition(id: string, position: number) {\r\n\t\tawait this.docClient\r\n\t\t\t.update({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\treportBlockID: id\r\n\t\t\t\t},\r\n\t\t\t\tUpdateExpression: \"SET #position = :position\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":position\": position\r\n\t\t\t\t},\r\n\t\t\t\tExpressionAttributeNames: {\r\n\t\t\t\t\t\"#position\": \"position\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n\r\n\tasync sortReportBlocks(reportBlocks: ReportBlock[]): Promise<ReportBlock[]> {\r\n\t\tthis;\r\n\t\treportBlocks.sort((a, b) => {\r\n\t\t\tif (a.position > b.position) return 1;\r\n\t\t\tif (a.position < b.position) return -1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t\treturn reportBlocks;\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport ResultSet from \"@model/resultSet/resultSet.model\";\r\n\r\nexport default class ResultSetService {\r\n\tprivate TableName = \"ResultSetTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) { }\r\n\r\n\tasync getResultSets(key: string): Promise<ResultSet[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"resultSetIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as ResultSet[];\r\n\t}\r\n\r\n\tasync getResultSet(id: string, key: string): Promise<ResultSet> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tapiKey: key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\tif (result === undefined) throw new Error(`result set with id: ${id} does not exist.`);\r\n\r\n\t\treturn result.Item as ResultSet;\r\n\t}\r\n\r\n\tasync addResultSet(resultSet: ResultSet): Promise<ResultSet> {\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: resultSet\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn resultSet as ResultSet;\r\n\t}\r\n\r\n\tasync deleteResultSet(id: string, key: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tapiKey: key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport TextStyle from \"@model/textStyles/textStyles.model\";\r\n\r\nexport default class TextStyleService {\r\n\tprivate TableName = \"TextStylesTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) {}\r\n\r\n\tasync getStyle(RBID: string): Promise<TextStyle[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"textStylesIndex\",\r\n\t\t\t\tKeyConditionExpression: \"reportBlockID = :reportBlockID\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":reportBlockID\": RBID\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as TextStyle[];\r\n\t}\r\n\r\n\tasync addStyle(style: TextStyle): Promise<TextStyle> {\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: style\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn style as TextStyle;\r\n\t}\r\n\r\n\tasync deleteStyle(id: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\ttextStylesID: id\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport Permission from \"@model/permission/permissions.model\";\r\n\r\nexport default class PermissionService {\r\n\tprivate TableName = \"PermissionTable\";\r\n\r\n\tconstructor(private docClient: DocumentClient) {}\r\n\r\n\tasync getPermission(id: string, key: string): Promise<Permission> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { reportID: id, apiKey: key }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Item as Permission;\r\n\t}\r\n\r\n\tasync addPermission(permission: Permission): Promise<Permission> {\r\n\t\tawait this.docClient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: permission\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn permission as Permission;\r\n\t}\r\n\r\n\t// verify report retrieval\r\n\tasync verifyReportRetr(status: string, apiKey: string, reportID: string): Promise<boolean> {\r\n\t\tconst per = await this.getPermission(reportID, apiKey);\r\n\r\n\t\tif (status !== \"PUBLISHED\" && per === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// verify editoral rights of report\r\n\tasync verifyEditor(reportID: string, apiKey: string): Promise<boolean> {\r\n\t\tconst per = await this.getPermission(reportID, apiKey);\r\n\r\n\t\treturn per !== undefined && per.type === \"EDITOR\";\r\n\t}\r\n\r\n\tasync getPermissions(key: string): Promise<Permission[]> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"permissionsIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as Permission[];\r\n\t}\r\n\r\n\tasync updatePermission(id: string, key: string, perm: string): Promise<Permission> {\r\n\t\tconst result = await this.docClient\r\n\t\t\t.update({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\treportID: id,\r\n\t\t\t\t\tapiKey: key\r\n\t\t\t\t},\r\n\t\t\t\tUpdateExpression: \"SET type = :type\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":type\": perm\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Attributes as Permission;\r\n\t}\r\n\r\n\tasync deletePermission(id: string, key: string) {\r\n\t\tawait this.docClient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: {\r\n\t\t\t\t\treportID: id,\r\n\t\t\t\t\tapiKey: key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n}\r\n", "import Tweet from \"@model/tweet/tweet.model\";\r\n\r\nexport default class TweetService {\r\n\tasync addTweets(data: any, includes: any, numTweets: number): Promise<Tweet[]> {\r\n\t\tthis;\r\n\t\tconst tweetList: Tweet[] = [];\r\n\t\tfor (let i = 0; i < numTweets; i++) {\r\n\t\t\tif (i in includes.users) {\r\n\t\t\t\ttweetList.push({\r\n\t\t\t\t\t// username: includes.users[i].username,\r\n\t\t\t\t\t// fullname: includes.users[i].name,\r\n\t\t\t\t\t// dateOT: data[i].created_at,\r\n\t\t\t\t\tnumComments: data[i].public_metrics.reply_count,\r\n\t\t\t\t\tnumLikes: data[i].public_metrics.like_count,\r\n\t\t\t\t\tnumRetweets: data[i].public_metrics.retweet_count,\r\n\t\t\t\t\t// text: data[i].text,\r\n\t\t\t\t\ttweetId: data[i].id\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn tweetList as Tweet[];\r\n\t}\r\n\r\n\tasync sortTweets(tweets: Tweet[], sortBy: string): Promise<Tweet[]> {\r\n\t\tthis;\r\n\t\tif (sortBy === \"byLikes\") {\r\n\t\t\ttweets.sort((a, b) => {\r\n\t\t\t\tif (a.numLikes < b.numLikes) return 1;\r\n\t\t\t\tif (a.numLikes > b.numLikes) return -1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t} else if (sortBy === \"byComments\") {\r\n\t\t\ttweets.sort((a, b) => {\r\n\t\t\t\tif (a.numComments < b.numComments) return 1;\r\n\t\t\t\tif (a.numComments > b.numComments) return -1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t} else if (sortBy === \"byRetweets\") {\r\n\t\t\ttweets.sort((a, b) => {\r\n\t\t\t\tif (a.numRetweets < b.numRetweets) return 1;\r\n\t\t\t\tif (a.numRetweets > b.numRetweets) return -1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn tweets;\r\n\t}\r\n\r\n\tasync createArray(tweets: Tweet[]): Promise<string[]> {\r\n\t\tthis;\r\n\t\tconst result = [];\r\n\t\ttweets.map(async (tweet) => {\r\n\t\t\tresult.push(tweet.tweetId);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n}\r\n", "import { DocumentClient } from \"aws-sdk/clients/dynamodb\";\r\nimport Schedule from \"@model/schedule/schedule.model\";\r\n\r\nexport default class ScheduleService {\r\n\tprivate TableName = \"ScheduleTable\";\r\n\r\n\tconstructor(private docCLient: DocumentClient) {}\r\n\r\n\tasync getSchedule(id: string): Promise<Schedule> {\r\n\t\tconst result = await this.docCLient\r\n\t\t\t.get({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { id }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Item as Schedule;\r\n\t}\r\n\r\n\tasync getShedules(key: string): Promise<Schedule[]> {\r\n\t\tconst result = await this.docCLient\r\n\t\t\t.query({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tIndexName: \"scheduleIndex\",\r\n\t\t\t\tKeyConditionExpression: \"apiKey = :apiKey\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":apiKey\": key\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn result.Items as Schedule[];\r\n\t}\r\n\r\n\tasync addScheduleSetting(scheduleSetting: Schedule): Promise<Schedule> {\r\n\t\tawait this.docCLient\r\n\t\t\t.put({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tItem: scheduleSetting\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\r\n\t\treturn scheduleSetting as Schedule;\r\n\t}\r\n\r\n\tasync updateScheduleSetting(id: string, date: Date) {\r\n\t\tawait this.docCLient\r\n\t\t\t.update({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { id },\r\n\t\t\t\tUpdateExpression: \"set lastGenerated = :lastGenerated\",\r\n\t\t\t\tExpressionAttributeValues: {\r\n\t\t\t\t\t\":lastGenerated\": date\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n\r\n\tasync deleteScheduleSetting(id: string) {\r\n\t\tawait this.docCLient\r\n\t\t\t.delete({\r\n\t\t\t\tTableName: this.TableName,\r\n\t\t\t\tKey: { id }\r\n\t\t\t})\r\n\t\t\t.promise();\r\n\t}\r\n}\r\n", "import dynamoDBClient from \"../model/database\";\r\nimport CreatorService from \"./creator.service\";\r\nimport ReportService from \"./report.service\";\r\nimport ReportBlockService from \"./reportBlock.service\";\r\nimport ResultSetService from \"./resultSet.service\";\r\nimport TextStyleService from \"./textStyles.service\";\r\nimport PermissionService from \"./permission.service\";\r\nimport TweetService from \"./tweet.service\";\r\nimport ScheduleService from \"./schedule.service\";\r\n\r\nconst reportService = new ReportService(dynamoDBClient());\r\nconst creatorService = new CreatorService(dynamoDBClient());\r\nconst resultSetServices = new ResultSetService(dynamoDBClient());\r\nconst reportBlockService = new ReportBlockService(dynamoDBClient());\r\nconst textStyleService = new TextStyleService(dynamoDBClient());\r\nconst tweetService = new TweetService();\r\nconst permissionService = new PermissionService(dynamoDBClient());\r\nconst scheduleService = new ScheduleService(dynamoDBClient());\r\n\r\nexport default {\r\n\tcreatorService,\r\n\ttweetService,\r\n\tresultSetServices,\r\n\treportService,\r\n\treportBlockService,\r\n\ttextStyleService,\r\n\tpermissionService,\r\n\tscheduleService\r\n};\r\n"],
  "mappings": "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",
  "names": ["module", "middy", "e", "module", "value", "message", "module", "EventTarget", "defineEventAttribute", "module", "abort", "abortAndFinalize", "module", "i", "module", "module", "module", "State", "module", "Twitter", "module", "config", "middy", "middyJsonBodyParser", "Twitter", "y"]
}
